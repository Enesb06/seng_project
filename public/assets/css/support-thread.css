.thread-page { padding: 0 !important; }

.chat-shell{
  height: calc(100vh - 140px);
  display:flex;
  flex-direction:column;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
  box-shadow: 0 8px 24px rgba(0,0,0,0.05);
}

.thread-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  width:100%;
}
.thread-left{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}
.back-btn{
  padding: 8px 12px !important;
  font-size: 0.9rem !important;
  border-radius: 999px !important;
}
.thread-titlebox{ min-width:0; }
.thread-subject{
  font-weight:800;
  font-size:1.05rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.thread-meta{
  font-size:0.85rem;
  color: var(--muted);
  margin-top:2px;
}

.thread-status-pill{
  font-size:0.8rem;
  padding:6px 12px;
  border-radius:999px;
  background: rgba(22, 163, 74, 0.12);
  color: var(--success);
  border: 1px solid rgba(22, 163, 74, 0.22);
}
.thread-status-pill.closed{
  background: rgba(220, 38, 38, 0.10);
  color: var(--error);
  border: 1px solid rgba(220, 38, 38, 0.18);
}

.thread-actions{
  padding: 12px 14px;
  background: var(--surface);
  border-bottom:1px solid var(--border);
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.thread-actions label{ font-size:0.9rem; color: var(--text); }
.thread-actions select{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:0.95rem;
  background: var(--surface);
  color: var(--text);
}
.thread-actions .cta-button{
  padding: 8px 12px !important;      
  width: auto !important;            
  border-radius: 10px !important;
}

.chat-messages{
  flex:1;
  padding:16px;
  overflow-y:auto;
  background: var(--bg);
  display:flex;
  flex-direction:column;
  gap:12px;
}

.msg{
  max-width: 70%;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--surface);
}
.msg .meta{
  font-size:0.78rem;
  color: var(--muted);
  margin-bottom:6px;
}
.msg .text{
  white-space:pre-wrap;
  font-size:0.95rem;
  color: var(--text);
}

.msg.me{
  align-self:flex-end;
  background: var(--primary-soft);
  border-color: var(--primary-border);
}
.msg.other{
  align-self:flex-start;
  background: var(--surface);
}

.chat-inputbar{
  padding:12px;
  background: var(--surface);
  border-top:1px solid var(--border);
  display:flex;
  gap:10px;
  align-items:flex-end;
}
.chat-inputbar textarea{
  flex:1;
  min-height: 64px;                  
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  font-size:0.95rem;
  font-family:inherit;
  resize: vertical;
  background: var(--surface);
  color: var(--text);
}
.chat-inputbar textarea:focus{
  outline:none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--primary-soft);
}
.chat-inputbar .cta-button{
  padding:12px 16px !important;
  border-radius:12px !important;
}
/* ===== Admin Support Thread UI Fixes ===== */

/* History button too big -> shrink it */
#back-btn{
  width: auto !important;
  padding: 8px 14px !important;
  font-size: 0.9rem !important;
  border-radius: 10px !important;
}


#thread-status-select{
  width: auto !important;
}

#update-status-btn{
  width: auto !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  padding: 8px 14px !important;
  font-size: 0.9rem !important;
  border-radius: 10px !important;
  background: var(--primary);
  color: #fff;
}

#update-status-btn:hover{
  background: var(--primary-hover);
}


.chat-inputbar{
  display: flex !important;
  gap: 12px !important;
  align-items: flex-end !important;
  padding: 12px !important;
  border-top: 1px solid var(--border);
  background: var(--surface);
}

#chat-input{
  flex: 1 !important;
  min-height: 90px !important;     
  resize: vertical !important;
  padding: 12px 14px !important;
  border-radius: 12px !important;
  border: 1px solid var(--border) !important;
  font-size: 0.95rem !important;
  box-sizing: border-box;
  background: var(--surface);
  color: var(--text);
}

#chat-input:focus{
  outline:none;
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 3px var(--primary-soft);
}

#chat-send{
  width: auto !important;          
  padding: 10px 16px !important;
  font-size: 0.95rem !important;
  border-radius: 12px !important;
  white-space: nowrap;
  background: var(--primary);
  color: #fff;
}
#chat-send:hover{
  background: var(--primary-hover);
}


.back-btn,
#back-btn{
  border: 1px solid var(--primary-border) !important;
  background: #fff !important;
  color: var(--primary) !important;
}
.back-btn:hover,
#back-btn:hover{
  background: var(--primary-soft) !important;
}

.thread-actions select:focus,
#thread-status-select:focus{
  outline:none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--primary-soft);
}

.msg{
  box-shadow: 0 6px 18px rgba(17, 24, 39, 0.06);
}

.chat-shell {
    background: linear-gradient(180deg,
        #faf9ff 0%,
        #f5f4fb 40%,
        #f2f1f8 100%
    );
}

.chat-shell {
    background: linear-gradient(180deg,
        #faf9ff 0%,
        #f5f4fb 40%,
        #f2f1f8 100%
    );
}

.msg {
    border-radius: 18px;
    padding: 12px 16px;
    max-width: 62ch;
}
.msg.me {
    background: var(--primary);
    color: white;
    border-bottom-right-radius: 4px;
}
.msg.other {
    background: white;
    border-bottom-left-radius: 4px;
}

.chat-inputbar {
    backdrop-filter: blur(8px);
    background: rgba(255,255,255,.8);
    border-top: 1px solid rgba(0,0,0,.05);
    box-shadow: 0 -4px 24px rgba(0,0,0,.04);
}

#chat-send {
   background: linear-gradient(135deg, #6d28d9, #9333ea);
   box-shadow: 0 3px 10px rgba(109,40,217,.25);
   transition: .2s ease;
}
#chat-send:hover {
    transform: translateY(-2px);
    filter: brightness(1.07);
}

.chat-date {
    align-self: center;
    margin: 14px 0;
    font-size: .75rem;
    opacity: .65;
}

.msg {
    animation: fadeUp .25s ease both;
}
@keyframes fadeUp {
    from { opacity:0; transform: translateY(6px); }
}

#chat-input:focus {
   box-shadow: 0 0 0 3px rgba(109,40,217,.15);
}

.chat-shell {
    max-width: 1000px;
    margin: 0 auto;
}

.msg.me {
    background: linear-gradient(135deg, #EEDAFF 0%, #D9B8FF 100%);
    color: #2A0D48;
    border: 1px solid rgba(115,20,198,.2);
}
.msg.me .meta {
    color: rgba(0,0,0,.55);
}

.support-thread-item {
    cursor: pointer;
    transition: .22s;
}

.support-thread-item:hover {
    background: rgba(115,20,198,.07);
    border-color: rgba(115,20,198,.25);
    box-shadow: 0 3px 12px rgba(115,20,198,.15);
    transform: translateY(-2px);
}


.support-thread-item:hover b {
    color: var(--primary);
    text-shadow: 0 0 5px rgba(115,20,198,.25);
}


